<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, minimum-scale=1.0, maximum-scale=3.0">
<link rel="apple-touch-icon" href="../../wp-content/themes/mantra_custom/images/favicon/apple-touch-icon.png" />
<link rel="profile" href="https://gmpg.org/xfn/11" />
<link rel="pingback" href="../../xmlrpc.php" />
<title>PatridgeDev &#8211; Page 4 &#8211; Software developer obsessed with helping others do more with training, tooling, and automation.</title>
<link rel='dns-prefetch' href='https://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='https://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="PatridgeDev &raquo; Feed" href="../../../../feed/" />
		<!-- This site uses the Google Analytics by MonsterInsights plugin v8.5.2 - Using Analytics tracking - https://www.monsterinsights.com/ -->
							<script src="https://www.googletagmanager.com/gtag/js?id=UA-24616833-1"  data-cfasync="false" data-wpfc-render="false" type="text/javascript" async></script>
			<script data-cfasync="false" data-wpfc-render="false" type="text/javascript">
				var mi_version = '8.5.2';
				var mi_track_user = true;
				var mi_no_track_reason = '';
				
								var disableStrs = [
										'ga-disable-G-3WN7RP75N7',
															'ga-disable-UA-24616833-1',
									];

				/* Function to detect opted out users */
				function __gtagTrackerIsOptedOut() {
					for ( var index = 0; index < disableStrs.length; index++ ) {
						if ( document.cookie.indexOf( disableStrs[ index ] + '=true' ) > -1 ) {
							return true;
						}
					}

					return false;
				}

				/* Disable tracking if the opt-out cookie exists. */
				if ( __gtagTrackerIsOptedOut() ) {
					for ( var index = 0; index < disableStrs.length; index++ ) {
						window[ disableStrs[ index ] ] = true;
					}
				}

				/* Opt-out function */
				function __gtagTrackerOptout() {
					for ( var index = 0; index < disableStrs.length; index++ ) {
						document.cookie = disableStrs[ index ] + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
						window[ disableStrs[ index ] ] = true;
					}
				}

				if ( 'undefined' === typeof gaOptout ) {
					function gaOptout() {
						__gtagTrackerOptout();
					}
				}
								window.dataLayer = window.dataLayer || [];

				window.MonsterInsightsDualTracker = {
					helpers: {},
					trackers: {},
				};
				if ( mi_track_user ) {
					function __gtagDataLayer() {
						dataLayer.push( arguments );
					}

					function __gtagTracker( type, name, parameters ) {
						if (!parameters) {
							parameters = {};
						}

						if (parameters.send_to) {
							__gtagDataLayer.apply( null, arguments );
							return;
						}

						if ( type === 'event' ) {
															parameters.send_to = monsterinsights_frontend.v4_id;
								var hookName = name;
								if ( typeof parameters[ 'event_category' ] !== 'undefined' ) {
									hookName = parameters[ 'event_category' ] + ':' + name;
								}

								if ( typeof MonsterInsightsDualTracker.trackers[ hookName ] !== 'undefined' ) {
									MonsterInsightsDualTracker.trackers[ hookName ]( parameters );
								} else {
									__gtagDataLayer( 'event', name, parameters );
								}
							
															parameters.send_to = monsterinsights_frontend.ua;
								__gtagDataLayer( type, name, parameters );
													} else {
							__gtagDataLayer.apply( null, arguments );
						}
					}
					__gtagTracker( 'js', new Date() );
					__gtagTracker( 'set', {
						'developer_id.dZGIzZG' : true,
											} );
										__gtagTracker( 'config', 'G-3WN7RP75N7', {"forceSSL":"true","link_attribution":"true"} );
															__gtagTracker( 'config', 'UA-24616833-1', {"forceSSL":"true","link_attribution":"true"} );
										window.gtag = __gtagTracker;											(function () {
							/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
							/* ga and __gaTracker compatibility shim. */
							var noopfn = function () {
								return null;
							};
							var newtracker = function () {
								return new Tracker();
							};
							var Tracker = function () {
								return null;
							};
							var p = Tracker.prototype;
							p.get = noopfn;
							p.set = noopfn;
							p.send = function (){
								var args = Array.prototype.slice.call(arguments);
								args.unshift( 'send' );
								__gaTracker.apply(null, args);
							};
							var __gaTracker = function () {
								var len = arguments.length;
								if ( len === 0 ) {
									return;
								}
								var f = arguments[len - 1];
								if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
									if ( 'send' === arguments[0] ) {
										var hitConverted, hitObject = false, action;
										if ( 'event' === arguments[1] ) {
											if ( 'undefined' !== typeof arguments[3] ) {
												hitObject = {
													'eventAction': arguments[3],
													'eventCategory': arguments[2],
													'eventLabel': arguments[4],
													'value': arguments[5] ? arguments[5] : 1,
												}
											}
										}
										if ( 'pageview' === arguments[1] ) {
											if ( 'undefined' !== typeof arguments[2] ) {
												hitObject = {
													'eventAction': 'page_view',
													'page_path' : arguments[2],
												}
											}
										}
										if ( typeof arguments[2] === 'object' ) {
											hitObject = arguments[2];
										}
										if ( typeof arguments[5] === 'object' ) {
											Object.assign( hitObject, arguments[5] );
										}
										if ( 'undefined' !== typeof arguments[1].hitType ) {
											hitObject = arguments[1];
											if ( 'pageview' === hitObject.hitType ) {
												hitObject.eventAction = 'page_view';
											}
										}
										if ( hitObject ) {
											action = 'timing' === arguments[1].hitType ? 'timing_complete' : hitObject.eventAction;
											hitConverted = mapArgs( hitObject );
											__gtagTracker( 'event', action, hitConverted );
										}
									}
									return;
								}

								function mapArgs( args ) {
									var arg, hit = {};
									var gaMap = {
										'eventCategory': 'event_category',
										'eventAction': 'event_action',
										'eventLabel': 'event_label',
										'eventValue': 'event_value',
										'nonInteraction': 'non_interaction',
										'timingCategory': 'event_category',
										'timingVar': 'name',
										'timingValue': 'value',
										'timingLabel': 'event_label',
										'page' : 'page_path',
										'location' : 'page_location',
										'title' : 'page_title',
									};
									for ( arg in args ) {
																				if ( ! ( ! args.hasOwnProperty(arg) || ! gaMap.hasOwnProperty(arg) ) ) {
											hit[gaMap[arg]] = args[arg];
										} else {
											hit[arg] = args[arg];
										}
									}
									return hit;
								}

								try {
									f.hitCallback();
								} catch ( ex ) {
								}
							};
							__gaTracker.create = newtracker;
							__gaTracker.getByName = newtracker;
							__gaTracker.getAll = function () {
								return [];
							};
							__gaTracker.remove = noopfn;
							__gaTracker.loaded = true;
							window['__gaTracker'] = __gaTracker;
						})();
									} else {
										console.log( "" );
					( function () {
							function __gtagTracker() {
								return null;
							}
							window['__gtagTracker'] = __gtagTracker;
							window['gtag'] = __gtagTracker;
					} )();
									}
			</script>
				<!-- / Google Analytics by MonsterInsights -->
				<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.patridgedev.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.4.11"}};
			/*! This file is auto-generated */
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='../../wp-includes/css/dist/block-library/style.mine6b3.css?ver=5.4.11' type='text/css' media='all' />
<link rel='stylesheet' id='mantra-style-css'  href='../../wp-content/themes/mantra.3.2.0_custom/style55a0.css?ver=3.2.0' type='text/css' media='all' />
<style id='mantra-style-inline-css' type='text/css'>
 #wrapper { max-width: 1140px; } #content { width: 100%; max-width:800px; max-width: calc( 100% - 340px ); } #primary, #secondary { width:340px; } #primary .widget-title, #secondary .widget-title { margin-right: -2em; text-align: left; } html { font-size:15px; } body, input, textarea {font-family:"Open Sans"; } #content h1.entry-title a, #content h2.entry-title a, #content h1.entry-title, #content h2.entry-title, #front-text1 h2, #front-text2 h2 {font-family: "Merriweather"; } .widget-area {font-family:"Open Sans"; } .entry-content h1, .entry-content h2, .entry-content h3, .entry-content h4, .entry-content h5, .entry-content h6 {font-family:"Merriweather"; } .nocomments, .nocomments2 {display:none;} #header-container > div { margin-top:30px; } #header-container > div { margin-left:30px; } body { background-color:#444444 !important; } #header { background-color:#333333; } #footer { background-color:#222222; } #footer2 { background-color:#171717; } #site-title span a { color:#0D85CC; } #site-description { color:#999999; } #content { color:#555555 ;} .widget-area a:link, .widget-area a:visited, a:link, a:visited ,#searchform #s:hover, #container #s:hover, #access a:hover, #wp-calendar tbody td a, #site-info a, #site-copyright a, #access li:hover > a, #access ul ul:hover > a { color:#0D85CC; } a:hover, .entry-meta a:hover, .entry-utility a:hover, .widget-area a:hover { color:#12a7ff; } #content .entry-title a, #content .entry-title, #content h1, #content h2, #content h3, #content h4, #content h5, #content h6 { color:#444444; } #content .entry-title a:hover { color:#000000; } .widget-title { background-color:#444444; } .widget-title { color:#FFFFFF; } #footer-widget-area .widget-title { color:#FFFFFF; } #footer-widget-area a { color:#666666; } #footer-widget-area a:hover { color:#888888; } .png); } .entry-content p:not(:last-child), .entry-content ul, .entry-summary ul, .entry-content ol, .entry-summary ol { margin-bottom:1.5em;} .entry-meta .entry-time { display:none; } #branding { height:125px ;} 
/* Mantra Custom CSS */
</style>
<link rel='stylesheet' id='mantra-googlefont-css'  href='https://fonts.googleapis.com/css?family=Open+Sans%3A400%2C700&amp;ver=5.4.11' type='text/css' media='all' />
<link rel='stylesheet' id='mantra-googlefont-title-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700&amp;ver=5.4.11' type='text/css' media='all' />
<link rel='stylesheet' id='mantra-googlefont-side-css'  href='https://fonts.googleapis.com/css?family=Open+Sans%3A400%2C700&amp;ver=5.4.11' type='text/css' media='all' />
<link rel='stylesheet' id='mantra-googlefont-headings-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700&amp;ver=5.4.11' type='text/css' media='all' />
<link rel='stylesheet' id='mantra-mobile-css'  href='../../wp-content/themes/mantra.3.2.0_custom/resources/css/style-mobile55a0.css?ver=3.2.0' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend-gtag.min8833.js?ver=8.5.2'></script>
<script data-cfasync="false" data-wpfc-render="false" type="text/javascript" id='monsterinsights-frontend-script-js-extra'>/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[{\"path\":\"\\\/go\\\/\",\"label\":\"affiliate\"},{\"path\":\"\\\/recommend\\\/\",\"label\":\"affiliate\"}]","home_url":"https:\/\/www.patridgedev.com","hash_tracking":"false","ua":"UA-24616833-1","v4_id":"G-3WN7RP75N7"};/* ]]> */
</script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery4a5f.js?ver=1.12.4-wp'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mantra_options = {"responsive":"1","image_class":"imageNone","equalize_sidebars":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/themes/mantra.3.2.0_custom/resources/js/frontend55a0.js?ver=3.2.0'></script>
<link rel="canonical" href="." />
<!--[if lte IE 8]> <style type="text/css" media="screen"> #access ul li, .edit-link a , #footer-widget-area .widget-title, .entry-meta,.entry-meta .comments-link, .short-button-light, .short-button-dark ,.short-button-color ,blockquote { position:relative; behavior: url(/wp-content/themes/mantra.3.2.0_custom/resources/js/PIE/PIE.php); } #access ul ul { -pie-box-shadow:0px 5px 5px #999; } #access ul li.current_page_item, #access ul li.current-menu-item , #access ul li ,#access ul ul ,#access ul ul li, .commentlist li.comment ,.commentlist .avatar, .nivo-caption, .theme-default .nivoSlider { behavior: url(/wp-content/themes/mantra.3.2.0_custom/resources/js/PIE/PIE.php); } </style> <![endif]--><!--[if lt IE 9]> 
	<script>
	document.createElement('header');
	document.createElement('nav');
	document.createElement('section');
	document.createElement('article');
	document.createElement('aside');
	document.createElement('footer');
	document.createElement('hgroup');
	</script>
	<![endif]--> 		<style type="text/css" id="wp-custom-css">
			#site-description { text-transform: none; }		</style>
			<link href="https://plus.google.com/103902189108210179119" rel="author" />
</head>
<body class="home blog paged paged-4 mantra-image-none mantra-caption-light mantra-hratio-0 mantra-sidebar-right mantra-menu-left">

    <div id="toTop"><i class="crycon-back2top"></i> </div>
	
<div id="wrapper" class="hfeed">


<header id="header">

		<div id="masthead">

			<div id="branding" role="banner" >

					
	<div id="header-container">
	
				<div>
				<h1 id="site-title">
					<span> <a href="../../" title="PatridgeDev" rel="home">PatridgeDev</a> </span>
				</h1>
				<div id="site-description" >Software developer obsessed with helping others do more with training, tooling, and automation.</div>
			</div> 	<div class="socials" id="sheader"> 
	
			<a target="_blank" rel="nofollow" href="https://twitter.com/patridgedev" class="socialicons social-Twitter" title="Twitter">
				<img alt="Twitter" src="../../wp-content/themes/mantra.3.2.0_custom/resources/images/socials/Twitter.png" />
			</a>
            	</div>
		</div> <!-- #header-container -->
					<div style="clear:both;"></div>

			</div><!-- #branding -->

            <a id="nav-toggle"><span>&nbsp; Menu</span></a>
			<nav id="access" class="jssafe" role="navigation">

					<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
	<div id="prime_nav" class="menu"><ul>
<li ><a href="../../">Home</a></li><li class="page_item page-item-6"><a href="../../about-me/">About Me</a></li>
<li class="page_item page-item-321 page_item_has_children"><a href="../../smudges/">Smudges</a>
<ul class='children'>
	<li class="page_item page-item-336"><a href="../../smudges/smudges-privacy-policy/">Smudges Privacy Policy</a></li>
</ul>
</li>
</ul></div>

			</nav><!-- #access -->

		</div><!-- #masthead -->

	<div style="clear:both;"> </div>

</header><!-- #header -->
<div id="main" class="main">
	<div  id="forbottom" >
			<div class="socials" id="smenur"> 
	
			<a target="_blank" rel="nofollow" href="https://twitter.com/patridgedev" class="socialicons social-Twitter" title="Twitter">
				<img alt="Twitter" src="../../wp-content/themes/mantra.3.2.0_custom/resources/images/socials/Twitter.png" />
			</a>
            	</div>
	
		<div style="clear:both;"> </div>

				<section id="container">

			<div id="content" role="main">


						<nav id="nav-above" class="navigation">
			<div class="nav-previous"><a href="../5/" ><span class="meta-nav">&laquo;</span> Older posts</a></div>
			<div class="nav-next"><a href="../3/" >Newer posts <span class="meta-nav">&raquo;</span></a></div>
		</nav><!-- #nav-above -->
	
								
					
	<article id="post-378" class="post-378 post type-post status-publish format-standard has-post-thumbnail hentry category-dev tag-font tag-icon tag-smudges tag-uikit tag-xamarin-ios">
		<header class="entry-header">	
			<h2 class="entry-title">
				<a href="../../2014/05/15/smudges-part-2-custom-font/" title="Permalink to Abusing UIKit for Gaming in Xamarin.iOS, Part 2: Using Custom Fonts" rel="bookmark">
					Abusing UIKit for Gaming in Xamarin.iOS, Part 2: Using Custom Fonts				</a>
			</h2>
						<div class="entry-meta">
				 <span class="author vcard" > By  <a class="url fn n" rel="author" href="../../author/adam/" title="View all posts by adam">adam</a> <span class="bl_sep">|</span></span>  <time class="onDate date published" datetime="2014-05-15T09:03:51+00:00"> <a href="../../2014/05/15/smudges-part-2-custom-font/" title="9:03 am" rel="bookmark"><span class="entry-date">May 15, 2014</span> <span class="entry-time"> - 9:03 am</span></a> </time><span class="bl_sep">|</span><time class="updated"  datetime="2014-05-15T09:03:51+00:00">May 15, 2014</time> <span class="bl_categ"> <a href="../../category/dev/" rel="tag">dev</a> </span>
						</div><!-- .entry-meta -->
			
		
		</header><!-- .entry-header -->
									<div class="entry-content">
						<p><em>This is the second in a series of <a href="../../tag/smudges/">Abusing UIKit blog posts</a> giving some background on the development that want into producing <a href="../../smudges/">Smudges</a>, a simple game written entirely in Xamarin.iOS where fun shapes in various colors show up on the screen wherever a tap is detected. It was original created to give my two-year-old something fun to play while going tap-crazy on the screen. The game evolved from those &#8220;play-testing&#8221; sessions. If you have your own little ones and want something fun to distract them, <a href="https://itunes.apple.com/us/app/smudges/id739618884?mt=8&amp;uo=4&amp;ct=blog">Smudges is availabe on the App Store</a>. At this point, I plan to continue adding features to it as I can. Let me know what you think about Smudges, or these blog posts, in the comments below or <a href="https://twitter.com/patridgedev/">find @patridgedev on Twitter</a>.</em></p>

<div style="float: right; padding-left: 10px;"><img style="width: 200px;" src="../../wp-content/uploads/2014/05/SizeToFit-success.gif" alt="Demo of using a custom icon font in a UILabel and adjusting the size" /></div>

<h2>Using an Icon Font</h2>

<p>Using an icon font can be great for a typical app for substituting a mess of PNGs. For icons, the size savings is probably minimal, but dealing with a single font file compared to a folder of icon images in numerous DPI variations can be much nicer. Since we are dealing with &#8220;plain&#8221; text in a label, color is controlled by manipulating the label&#8217;s text color. For Smudges, the icon font was all about having something visually enjoyable pop onto the screen beyond a basic rectangular view. Fortunately, most icon fonts have a few characters that are just for fun.</p>

<h2>Font, Meet Project. Project, Meet Font</h2>

<p>Whether you are using a custom icon font or a regular font in your project, adding it is exactly the same. First, pick your favorite TTF font file. Either drag it onto the Resources folder in Xamarin Studio or right-click to &#8220;Add Files&#8230;&#8221; there. You can also put it in a subfolder within Resources (e.g., &#8220;Fonts&#8221;) as I did for this project, since later demos may have fonts and sounds.</p>

<p>Once you have a font in your project, there are two more steps to make it work: setting up Info.plist and setting the build action. Since you are already in the solution view, right-click the new font and get its properties. Change the &#8220;Build action&#8221; to &#8220;BundleResource&#8221;. Now you need to tell the app that it needs to load custom fonts and which files will be provided by adding some details to Info.plist. Open your projects Info.plist file and change to Source view with the bottom tab choices. Add a new root entry and pick &#8220;Fonts provided by application&#8221; from the choices. This will create a new array where you will put any file names of the custom fonts within your application bundle. In this case, I added <code>Fonts/fontawesome-webfont.ttf</code> to the array.</p>

<p><img src="../../wp-content/uploads/2014/05/Info-Plist-Fonts-Provided-by-Application.png" alt="Custom fonts under Fonts provided by application in Info.plist" /></p>

<p>With the file bundled and Info.plist all prepped, it&#8217;s just a matter of creating a <code>UIFont</code> with the correct font name.</p>

<pre><code>UIFont IconFont = UIFont.FromName("FontAwesome", CharacterSize);
</code></pre>

<h2>Getting the Font Name</h2>

<p>You may not always know exactly what your font&#8217;s name is as seen by iOS. The simple way to find it is to open it with the baked-in OS X Font Book application. The font&#8217;s name will be shown as the window title.</p>

<p><img src="../../wp-content/uploads/2014/05/getting-font-name-from-font-book.png" alt="Getting the font's name with Font Book" /></p>

<p>One other method is to run your app and pull all the available font names and search for the one you think is right for the newly embedded font. (This has the added benefit of verifying you have all the previous steps set up correctly; if the font shows up in this list, the app found it and loaded it.)</p>

<pre><code>// Dump out an alphabetical list of all available font names on the device.
var availableFontNames = UIFont.FamilyNames.SelectMany(familyName =&gt; UIFont.FontNamesForFamilyName(familyName)).ToList().OrderBy(fontName =&gt; fontName);
Console.WriteLine(string.Join("\n", availableFontNames));
</code></pre>

<p>Quite a few fonts are already ready to go for your apps to use in iOS. Given that, you may have trouble finding the name of your new font in that large list. It&#8217;s definitely worth trying the Font Book approach before you verify your project is configured correctly using this approach.</p>

<p><img src="../../wp-content/uploads/2014/05/font-debug-output.png" alt="Debugging to get font names available to your app" /></p>

<h2>Determining character codes</h2>

<p>Once you figure out what characters from your font that you want to use, you will need the hexadecimal character codes to use them as strings. While I do tend to look for simple solutions to problems, I haven&#8217;t found a simple solution to determining the character codes for a font yet. I often do a silly dance of installing the font in Windows and viewing it within the Character Map application.</p>

<p><img src="../../wp-content/uploads/2014/05/determine-font-character-codes-icon-font.png" alt="Looking up character codes in the Windows Character Map" /></p>

<p>Since font icons often use the <a href="https://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Private_use">Unicode private use space</a>, you may have to scroll around to find the characters you want to use. Once you find the character you want to use, write down its character code, <code>F0FB</code> in the case of the fighter jet in the screenshot.</p>

<p>Sometimes you get lucky with an icon font. Font Awesome has a handy <a href="https://fortawesome.github.io/Font-Awesome/icons/">listing of icons</a> on their site. If you use your browser&#8217;s development tools to inspect the desired icon, you can usually find the hexadecimal code in the CSS.</p>

<p><img src="../../wp-content/uploads/2014/05/font-icon-look-up-by-web-inspect.png" alt="Inspecting CSS of desired character use on the web" /></p>

<p>Once you find the appropriate CSS rule, grab the hexadecimal character code.</p>

<p><img src="../../wp-content/uploads/2014/05/font-icon-look-up-by-web-use.png" alt="Looking up character codes in browser CSS rule" /></p>

<p>From there, take the character code and use it as any normal <code>char</code> (or <code>string</code>) in your C# code.</p>

<pre><code>static readonly UIFont IconFont = UIFont.FromName("FontAwesome", 40f);
//...
char jet = '\uf0fb';
var label = new UILabel(RectangleF.Empty) {
    Font = IconFont,
    Text = jet.ToString(),
    TextColor= someForeColor,
    BackgroundColor = someBackgroundColor,
};
label.SizeToFit();
Add(label);
</code></pre>

<p>If you happen to see an unusual &#8220;W&#8221;-looking character, you probably forgot to set it to use your icon font.</p>

<p><img src="../../wp-content/uploads/2014/05/character-without-correct-font.png" alt="Missing font character fail" /></p>

<h2>Adjusting Your Icon Size</h2>

<p>Since your new icons aren&#8217;t plain images with pre-determined sizes, you need to figure out the size you want to use. If you can get away with it, figure out your font point size beforehand and roll with it as we did above. If you sizing requirements are more fluid, you will have to put a little more effort into it.</p>

<p>I&#8217;ve tried a few different approaches trying to get flexible sizing to work. First, I tried the direct route: set the font size overly large and toggle <code>AdjustsFontSizeToFitWidth</code> to have the system do the hard work. There may be a way to get this to work, but I had less-than-ideal results with that approach.</p>

<p><img src="../../wp-content/uploads/2014/05/AdjustsFontSizeToFitWidth-fail.gif" alt="Icon font sizing fail with AdjustsFontSizeToFitWidth" /></p>

<p>At some point in playing with iOS, you will probably need to know the size of a string before it ends up on the screen. This is where the various overloads for <code>NSString.StringSize</code> come in. There is even an overload that appears to be designed to return the maximum font size for a given width, but I couldn&#8217;t get it to return a useful value. Instead, I created a hack function that calculated the largest font size by trying incrementally larger sizes until <code>StringSize</code> came out too large.</p>

<pre><code>// CAUTION: total hack!
public static float GetMaxFontSize(this string source, UIFont font, SizeF sizeRestriction) {
    float maxFontSize = font.PointSize;
    SizeF latest = SizeF.Empty;
    using (NSString nssDescriptionWithoutHtml = new NSString(source.ToString())) {
        while (latest.Width &lt; sizeRestriction.Width &amp;&amp; latest.Height &lt; sizeRestriction.Height) {
            latest = nssDescriptionWithoutHtml.StringSize(font.WithSize(maxFontSize), sizeRestriction.Width, UILineBreakMode.Clip);
            if (latest.Width &lt; sizeRestriction.Width &amp;&amp; latest.Height &lt; sizeRestriction.Height) {
                maxFontSize += 0.1f;
            }
        }
    }
    return maxFontSize;
}
</code></pre>

<p><img src="../../wp-content/uploads/2014/05/SizeToFit-success.gif" alt="Using a font size calculation to determine the largest possible size for a given area" /></p>

<h2>Demo</h2>

<p>In the demo, you&#8217;ll see a <code>UILabel</code> used with a custom icon font (the jet icon seen here). At the bottom is a slider that controls the size of the label, showing how icon fonts can make for sharp icons at any size. As well, a <code>UIButton</code> with a &#8220;refresh&#8221; icon is there. When tapped, it spins the jet icon using the <a href="../../2012/10/05/creating-an-animated-spinner-in-a-monotouch-uiimageview/">rotate animation code</a> from one of my first Xamarin.iOS blog posts.</p>

<h3>Demo Source Code</h3>

<p>For more details on the font-sizing code or any of the rest of this post’s code, just pop over to the <a href="https://github.com/patridge/UIKitAbuse">Abusing UIKit for Gaming GitHub repo</a>. The custom font code project has been added to this project, and I’ll be adding new projects to that solution as I add posts to this series.</p>

<h2>Picking a font, making your own icon font, resources</h2>

<p>When it comes time to finding your own icon font, there are a lot of choices. Font Awesome is nice, and the price and <a href="https://fortawesome.github.io/Font-Awesome/license/">license is nice</a> (read: free). If it meets your needs, you are good to go. If you need something different, though, there are a lot of <a href="https://css-tricks.com/flat-icons-icon-fonts/">great icon fonts out there</a> to use.</p>

<p>If you already have your own vector assets, there is also the choice of making your own icon font. Trello switched to an icon font at one point. They even put out a <a href="https://blog.fogcreek.com/trello-uses-an-icon-font-and-so-can-you/">nice blog post about it</a>.</p>

<h2>One last shameless plug…</h2>

<p>Find <a href="https://itunes.apple.com/us/app/smudges/id739618884?mt=8&amp;uo=4&amp;ct=blog">Smudges on the App Store</a>, available for iPhone, iPad, or iPod Touch. It’s especially fun on iPad where the hardware allows for ten simultaneous touch points.</p>
												</div><!-- .entry-content --> 
								<footer class="entry-meta2">
		<span class="bl_tagg">Tagged <a href="../../tag/font/" rel="tag">font</a>, <a href="../../tag/icon/" rel="tag">icon</a>, <a href="../../tag/smudges/" rel="tag">smudges</a>, <a href="../../tag/uikit/" rel="tag">uikit</a>, <a href="../../tag/xamarin-ios/" rel="tag">xamarin.ios</a></span>
 									</footer><!-- #entry-meta -->

	</article><!-- #post-378 -->
	
	

				
					
	<article id="post-347" class="post-347 post type-post status-publish format-standard hentry category-dev tag-smudges tag-uikit tag-uitapgesturerecognizer tag-xamarin-ios">
		<header class="entry-header">	
			<h2 class="entry-title">
				<a href="../../2013/11/22/smudges-part-1-detecting-taps/" title="Permalink to Abusing UIKit for Gaming in Xamarin.iOS, Part 1: Detecting Taps and Placing Views with UITapGestureRecognizer" rel="bookmark">
					Abusing UIKit for Gaming in Xamarin.iOS, Part 1: Detecting Taps and Placing Views with UITapGestureRecognizer				</a>
			</h2>
						<div class="entry-meta">
				 <span class="author vcard" > By  <a class="url fn n" rel="author" href="../../author/adam/" title="View all posts by adam">adam</a> <span class="bl_sep">|</span></span>  <time class="onDate date published" datetime="2013-11-22T19:27:08+00:00"> <a href="../../2013/11/22/smudges-part-1-detecting-taps/" title="7:27 pm" rel="bookmark"><span class="entry-date">November 22, 2013</span> <span class="entry-time"> - 7:27 pm</span></a> </time><span class="bl_sep">|</span><time class="updated"  datetime="2013-11-22T19:27:08+00:00">November 22, 2013</time> <span class="bl_categ"> <a href="../../category/dev/" rel="tag">dev</a> </span>
						</div><!-- .entry-meta -->
			
		
		</header><!-- .entry-header -->
									<div class="entry-content">
						<p><em>This is the first in a series of Abusing UIKit blog posts giving some background on the development that want into producing <a href="../../smudges/">Smudges</a>, a simple game written entirely in Xamarin.iOS where fun shapes in various colors show up on the screen wherever a tap is detected. It was original created to give my two-year-old something fun to play while going tap-crazy on the screen. The game evolved from those &#8220;play-testing&#8221; sessions. If you have your own little ones and want something fun to distract them, <a href="https://itunes.apple.com/us/app/smudges/id739618884?mt=8&amp;uo=4&amp;ct=blog">Smudges is availabe on the App Store</a>. At this point, I plan to continue adding features to it as I can. Let me know what you think about Smudges, or these blog posts, in the comments below or <a href="https://twitter.com/patridgedev/">find @patridgedev on Twitter</a>.</em></p>

<div style="float: right; padding-left: 10px;"><img style="width: 200px;" src="../../wp-content/uploads/2013/11/PlacingViewsDemo.gif" alt="Demo animation of placing views with a UITapGestureRecognizer." /></div>

<h2>Where Did They Touch?</h2>

<p>Smudges has a simple game mechanic: tap the screen, new shape appears. The first step is figuring out when and where a tap occurred. The simple approach is to put a <code>UIButton</code> where you need to detect a touch, attaching a handler to its <code>TouchUpInside</code> event.</p>

<pre><code>UIButton someButton = new UIButton(someFrameRectangle);
AddSubview(someButton);
someButton.TouchUpInside += (sender, e) =&gt; {
    Debug.WriteLine("Touched somewhere on this button.");
};
</code></pre>

<p>Of course, while incredibly simple, this is only practical for interface elements; it&#8217;s not so great for doing something at the exact location of a tap. To know the X-Y location where the user&#8217;s finger is touching the screen, you need to wander into <code>UITapGestureRecognizer</code> territory (or beyond).</p>

<pre><code>UITapGestureRecognizer tapRecognizer = new UITapGestureRecognizer() {
    NumberOfTapsRequired = 1, // default is 1, adjust as needed
};
tapRecognizer.AddTarget((sender) =&gt; {
    PointF location = tapRecognizer.LocationOfTouch(0, MainView);
    Debug.WriteLine("Touched: {0}", location);
});
someContainerView.AddGestureRecognizer(tapRecognizer);
</code></pre>

<p>Simple enough as well, and a great choice for double-taps&#8230;and, I suppose, three-finger triple-taps, if you want to get crazy.</p>

<h2>Placing the View</h2>

<p>Once you have the tap location, doing something with it is fairly trivial.</p>

<pre><code>tapRecognizer.AddTarget((sender) =&gt; {
    PointF location = tapRecognizer.LocationOfTouch(0, MainView);
    UIView newView = new UIView(new RectangleF(location, new SizeF(50f, 50f))) {
        BackgroundColor = UIColor.Red,
    };
    someContainerView.AddView(newView);
});
</code></pre>

<p>This will happily place a 50&#215;50 rectangle on the screen with its top-left corner sitting right where the tap was detected. Centering on that location was my goal, which is easy enough by setting the new view&#8217;s <code>Center</code> instead of a full frame.</p>

<pre><code>tapRecognizer.AddTarget((sender) =&gt; {
    PointF location = tapRecognizer.LocationOfTouch(0, MainView);
    UIView newView = new UIView() {
        Size = new SizeF(50f, 50f),
        Center = location,
        BackgroundColor = UIColor.Red,
    };
    someContainerView.AddView(newView);
});
</code></pre>

<h2>Make it Pretty</h2>

<p>One thing I tend to do in demos of any kind is introduce some randomness to the mix. It keeps things much more interesting to everyone, especially me while I am running it for the thousandth time to get everything just right. In this case, let&#8217;s pick a random color for each one.</p>

<pre><code>static Random rand = new Random();
public static UIColor GetRandomColor() {
    int red = rand.Next(255);
    int green = rand.Next(255);
    int blue = rand.Next(255);
    UIColor color = UIColor.FromRGBA(
        (red / 255.0f),
        (green / 255.0f),
        (blue / 255.0f),
        1f);
    return color;
}
</code></pre>

<p>If you need random numbers that hold up over time, you will want to investigate better random number generators, but <code>System.Random</code> serves its purpose well for these uses. Throwing all that into the mix, we now get a new &#8220;fun&#8221; gesture recognizer target that places a rectangle of a random color centered right at the touch location.</p>

<pre><code>UITapGestureRecognizer tapRecognizer = new UITapGestureRecognizer() {
    NumberOfTapsRequired = 1
};
tapRecognizer.AddTarget((sender) =&gt; {
    PointF location = tapRecognizer.LocationOfTouch(0, MainView);
    UIView newView = new UIView() {
        Size = new SizeF(50f, 50f),
        Center = location,
        BackgroundColor = GetRandomColor(),
    };
    someContainerView.AddView(newView);
});
someContainerView.AddGestureRecognizer(tapRecognizer);
</code></pre>

<h2>Caution: Memory Leak Ahead</h2>

<p>When you go adding views all the time, with enough time, you are bound to run up against memory pressures. The simplest solution is to keep track of added views so you can remove them later. In this demo, I simply schedule a task to do so after some time elapses. In a later demo, I will have a simple demo using a <code>Queue</code> that does just that. Another option is a pool of views, something many game engines offer directly. There&#8217;s lots of room for turning this potential limitation into something fun.</p>

<h2>Beyond <code>UITapGestureRecognizer</code></h2>

<p>This version allows the detection of a single finger tapping. If you use two fingers to tap at the same time, nothing will happen. In a later post, I will address recognizing simultaneous touches.</p>

<h2>Demo Source Code</h2>

<p>For details on the view queueing system or any of the rest of this post&#8217;s code, just pop over to the <a href="https://github.com/patridge/UIKitAbuse">GitHub repo for the Abusing UIKit for Gaming in Xamarin.IOS series</a>. I&#8217;ll be adding new projects to that solution as I add posts to this series.</p>

<h2>One last shameless plug&#8230;</h2>

<p>Find <a href="https://itunes.apple.com/us/app/smudges/id739618884?mt=8&amp;uo=4&amp;ct=blog">Smudges on the App Store</a>, available for iPhone, iPad, or iPod Touch. It&#8217;s especially fun on iPad where the hardware allows for ten simultaneous touch points.</p>
												</div><!-- .entry-content --> 
								<footer class="entry-meta2">
		<span class="bl_tagg">Tagged <a href="../../tag/smudges/" rel="tag">smudges</a>, <a href="../../tag/uikit/" rel="tag">uikit</a>, <a href="../../tag/uitapgesturerecognizer/" rel="tag">uitapgesturerecognizer</a>, <a href="../../tag/xamarin-ios/" rel="tag">xamarin.ios</a></span>
 									</footer><!-- #entry-meta -->

	</article><!-- #post-347 -->
	
	

				
					
	<article id="post-281" class="post-281 post type-post status-publish format-standard hentry category-dev tag-ios tag-xamarin-ios">
		<header class="entry-header">	
			<h2 class="entry-title">
				<a href="../../2013/09/27/capturing-your-ios-app-in-ios-simulator/" title="Permalink to Capturing Your iOS App in Animated GIF Glory" rel="bookmark">
					Capturing Your iOS App in Animated GIF Glory				</a>
			</h2>
						<div class="entry-meta">
				 <span class="author vcard" > By  <a class="url fn n" rel="author" href="../../author/adam/" title="View all posts by adam">adam</a> <span class="bl_sep">|</span></span>  <time class="onDate date published" datetime="2013-09-27T07:30:55+00:00"> <a href="../../2013/09/27/capturing-your-ios-app-in-ios-simulator/" title="7:30 am" rel="bookmark"><span class="entry-date">September 27, 2013</span> <span class="entry-time"> - 7:30 am</span></a> </time><span class="bl_sep">|</span><time class="updated"  datetime="2013-09-27T07:30:55+00:00">September 27, 2013</time> <span class="bl_categ"> <a href="../../category/dev/" rel="tag">dev</a> </span>
						</div><!-- .entry-meta -->
			
		
		</header><!-- .entry-header -->
									<div class="entry-content">
						<div style="float: right; padding-left: 10px;"><img style="width: 200px;" src="../../wp-content/uploads/2013/09/LICEcapHighlight.gif" alt="LICEcap Capture at 30fps" /></div>

<p>Showing the coolness of your iOS app in a web format can be very difficult, depending on what about your app makes it shine. If your app thrives on animation, especially the new UIKit Dynamics fun, you will need more than one frame to portray what your app does: enter the animated GIF, mother of all awesomeness.</p>

<p>Here is the method I used to make the images for my <a href="https://pdev.co/19CZ0DJ">Xamarin UIGravityBehavior recipe</a>. That said, if you know a better way to do this, toss a comment out there; I&#8217;d love to hear about it.</p>

<p><em>While I use these methods for my Xamarin.iOS creations, they apply equally to native apps and most anything running on a Mac.</em></p>

<h2>The Tool: LICEcap</h2>

<p>While the name sounds slightly&#8230;off, it definitely gets the job done. <a href="https://www.cockos.com/licecap/">LICEcap</a>, from Cockos Incorporated, is a quick disk image install. In fact, here&#8217;s LICEcap&#8217;s capture of me installing LICEcap.</p>

<p><img src="../../wp-content/uploads/2013/09/InstallingLICEcap.gif" alt="Installing LICEcap" /></p>

<p>One thing to notice, these GIFs are not a great way to capture complex color palettes like the gradients in the install image folder. There may be a tool that is better at that, but you will probably compromise file size for fidelity. That install GIF was 81kb.</p>

<h3>Capturing the iOS Simulator</h3>

<p>With LICEcap, you capture an arbitrary portion of the screen, so you can capture just a portion of your app all the way to the full simulator with your Twitter feed rolling in the background around it. LICEcap loads as a transparent window, looking eerily as if something failed to render. Instead, what the program frames is what will be captured. You pull the various window edges and corners as needed to frame your target. It can be maddening to adjust it just right if you are shooting for specific pixels. You can also set exact pixel measurements with the two bottom inputs.</p>

<p><img src="../../wp-content/uploads/2013/09/UsingLICEcap.png" alt="Using LICEcap to capture an animated GIF" /></p>

<p>After you set your capture area, you can set a maximum frames per second (FPS) as well. For representative purposes, it seemed I needed fewer FPS than I thought. The resulting file size variation from FPS settings will depend heavily on your recording length and the complexity of the graphics. For my UIGravityBehavior recipe, practically ideal for GIF compression, it wasn&#8217;t a big difference from 5fps to 30fps. For some animations, file size can get substantial fairly quickly.</p>

<div style="float: right; padding-left: 10px;"><img style="width: 125px;" src="../../wp-content/uploads/2013/09/LICEcapCapture30fps.gif" alt="LICEcap Capture at 30fps" /></div>

<div style="float: right; padding-left: 10px;"><img style="width: 125px;" src="../../wp-content/uploads/2013/09/LICEcapCapture05fps.gif" alt="LICEcap Capture at 5fps" /></div>

<table style="width: 50%;">
  <tr><th>FPS</th><th>File Size</th></tr>
  <tr><td><a href="../../wp-content/uploads/2013/09/LICEcapCapture05fps.gif">5fps</a></td><td>24kb</td></tr>
  <tr><td><a href="../../wp-content/uploads/2013/09/LICEcapCapture10fps.gif">10fps</a></td><td>43kb</td></tr>
  <tr><td><a href="../../wp-content/uploads/2013/09/LICEcapCapture15fps.gif">15fps</a></td><td>46kb</td></tr>
  <tr><td><a href="../../wp-content/uploads/2013/09/LICEcapCapture20fps.gif">20fps</a></td><td>66kb</td></tr>
  <tr><td><a href="../../wp-content/uploads/2013/09/LICEcapCapture25fps.gif">25fps</a></td><td>67kb</td></tr>
  <tr><td><a href="../../wp-content/uploads/2013/09/LICEcapCapture30fps.gif">30fps</a></td><td>68kb</td></tr>
</table>

<p>Unless you want a huge recording, you probably want to scale the Simulator to 50% with <kbd>Command</kbd>+<kbd>3</kbd>. For a full-app capture, you will end up getting the bottom rounded corners of the window unless you crop a few pixels. For most apps, trimming those pixels doesn&#8217;t seem to be a loss. At half scale, I find setting LICEcap to 318&#215;564 then lining up with a top corner works quite well. Doing so highlights one frustration with the program. When capturing skinny views with exact dimensions, such as the iOS Simulator in portrait, you need to enter your height first or the field disappears before you can give it a value.</p>

<p>Once you are all set, hit the record button. Give your file a name and a location. You will also have a few options here that may be of interest, such as showing a circle for mouse button presses or loop repeat count. When you are all set hit &#8220;Save&#8221; and you will get a 3-2-1 countdown in the title bar before recording begins. After everything is complete, simply hit &#8220;Stop&#8221; to save the result. (You can also pause and resume during a recording.)</p>

<h3>Trimming the result</h3>

<p>If you find you have a bunch of extra frames in your animation, open your GIF in Preview. From there you can selecting the offending frames and hit delete. But, once you edit in Preview, any infinite looping you had will be gone. I found <a href="https://www.lcdf.org/gifsicle/">Gifsicle</a>, a command line utility, fixed this for me quite nicely.</p>

<pre><code>gifsicle -bl ~/path/to/your/file.gif
</code></pre>

<h2>Other Capture Methods</h2>

<h3>Still Images</h3>

<p>If you really just need a static screenshot, don&#8217;t forget the baked-in offerings. The easiest shots can be done in the iOS Simulator, a simple <kbd>Command</kbd>+<kbd>S</kbd> (File: Save Screen Shot) will save a PNG result of your app to the desktop.</p>

<p>Need to capture the Simulator among other windows? You capture the full screen with <kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>3</kbd> and can then crop to your desired size. To capture a partial screenshot, hit <kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>4</kbd> and draw what to capture with the crosshairs. These images are also saved to your desktop, time-stamped, but they are formatted &#8220;Screen Shot {yyyy-MM-dd} at {h.mm.ss tt}&#8221;.</p>

<h3>Capturing a Video</h3>

<p>If you need a video to do your app justice, by all means, let me introduce you to this neat tool included on your Mac for free: QuickTime Player. Load it up and select &#8220;File&#8221;, then &#8220;New Screen Recording&#8221;. Here&#8217;s where I would embed a video of me doing that, but you can&#8217;t start a new screen recording while doing a screen recording.</p>

<p><img src="../../wp-content/uploads/2013/09/QuickTimeScreenRecording.png" alt="Using QuickTime Player for Screen Recordings" /></p>

<h2>Other Options?</h2>

<p>Utilities such as <a href="https://www.techsmith.com/jing.html">Jing</a> capture in a Flash-based format, but I have mixed feelings about requiring Flash, no matter how common it may be. While the animation captures I tried with it were smooth and the color gradients captured fine, the file sizes got substantial quickly.</p>

<p>If there is some awesome, affordable or free tool out there that you use to make capturing animations insanely easy? I&#8217;d love to hear about it.</p>
												</div><!-- .entry-content --> 
								<footer class="entry-meta2">
		<span class="bl_tagg">Tagged <a href="../../tag/ios/" rel="tag">ios</a>, <a href="../../tag/xamarin-ios/" rel="tag">xamarin.ios</a></span>
 									</footer><!-- #entry-meta -->

	</article><!-- #post-281 -->
	
	

				
					
	<article id="post-265" class="post-265 post type-post status-publish format-standard has-post-thumbnail hentry category-dev tag-c-sharp tag-ios7 tag-monotouch tag-xamarin-ios">
		<header class="entry-header">	
			<h2 class="entry-title">
				<a href="../../2013/09/24/ios-7-recipe-animating-views-with-uigravitybehavior-uikit-dynamics/" title="Permalink to Xamarin.iOS C# Recipe: Animating Views with iOS 7 UIGravityBehavior (UIKit Dynamics)" rel="bookmark">
					Xamarin.iOS C# Recipe: Animating Views with iOS 7 UIGravityBehavior (UIKit Dynamics)				</a>
			</h2>
						<div class="entry-meta">
				 <span class="author vcard" > By  <a class="url fn n" rel="author" href="../../author/adam/" title="View all posts by adam">adam</a> <span class="bl_sep">|</span></span>  <time class="onDate date published" datetime="2013-09-24T23:23:23+00:00"> <a href="../../2013/09/24/ios-7-recipe-animating-views-with-uigravitybehavior-uikit-dynamics/" title="11:23 pm" rel="bookmark"><span class="entry-date">September 24, 2013</span> <span class="entry-time"> - 11:23 pm</span></a> </time><span class="bl_sep">|</span><time class="updated"  datetime="2013-09-24T23:23:23+00:00">September 24, 2013</time> <span class="bl_categ"> <a href="../../category/dev/" rel="tag">dev</a> </span>
						</div><!-- .entry-meta -->
			
		
		</header><!-- .entry-header -->
									<div class="entry-content">
						<div style="float: right; padding-left: 15px;"><img style="width: 200px;" alt="UIGravityBehavior, oddly addictive" src="../../wp-content/uploads/2013/09/ChangingUIGravityBehavior.gif"></div>

<p>Now that iOS 7 has landed, and <a href="https://blog.xamarin.com/ios-7-and-xamarin-ready-when-you-are/">Xamarin gave us same-day C# support</a>, it&#8217;s time to start poking at the new bits. One such piece is UIKit Dynamics. With UIKit Dynamics, you can greatly simplify all sorts of view animations. While this simple recipe will only address <code>UIGravityBehavior</code>, iOS 7 adds a bunch of other predefined behaviors and allows the creation of custom ones as well.</p>

<p>Source code is available on <a href="https://github.com/patridge/UIGravityBehaviorRecipe">GitHub</a>.</p>

<h2>Basic Gravity Animation</h2>

<p>To have a view simply start falling off the screen, you just toss the desired view at a new <code>UIGravityBehavior</code> and add that behavior to a <code>UIDynamicAnimator</code>.</p>

<pre><code>UIDynamicAnimator animator;
public override void ViewDidLoad() {
    base.ViewDidLoad();
    View.BackgroundColor = UIColor.White;
    animator = new UIDynamicAnimator(View);

    var item = new UIView(new RectangleF(new PointF(50f, 0f), new SizeF(50f, 50f))) {
        BackgroundColor = UIColor.Blue,
    };
    View.Add(item);
    UIGravityBehavior gravity = new UIGravityBehavior(item);
    animator.AddBehavior(gravity);
}
</code></pre>

<p><img src="../../wp-content/uploads/2013/09/BasicUIGravityBehavior.gif" alt="Basic UIGravityBehavior" /></p>

<p>You can continue to put items under the effect of gravity by adding them to the behavior.</p>

<pre><code>gravity.AddItem(someOtherView);
</code></pre>

<p>That&#8217;s really it for basic gravity, but craziness is only a step beyond that. You can modify the <code>Angle</code>, <code>GravityDirection</code>, and <code>Magnitude</code> of your gravity as well.</p>

<h3>Potential Memory/Performance Trap</h3>

<p>It&#8217;s worth noting that those items that go flying off the screen under the effects of gravity will continue to keep falling, even though they are no longer rendered on the screen. If you need to worry about resources, you could be computing locations for things long since forgotten.</p>

<h2>Customizing Gravity</h2>

<p>The three <code>UIGravityBehavior</code> properties, <code>Angle</code>, <code>GravityDirection</code>, and <code>Magnitude</code>, can all be changed to your liking and they are interconnected, changing one can affect the others.</p>

<h3>Magnitude</h3>

<p>The default gravity acceleration is 1000 pixels/sec^2. You could very easily bump the gravity to Jupiter levels (roughly 2.5 times that of Earth).</p>

<pre><code>UIGravityBehavior gravity = new UIGravityBehavior(item) {
    Magnitude = 25000,
};
</code></pre>

<h3>Direction (<code>GravityDirection</code> and <code>Angle</code>)</h3>

<p>You can change the direction of gravity with two different interconnected variables, <code>Angle</code> and <code>GravityDirection</code>; change one and you affect the other. The default gravity angle pulls straight down, as measured in <a href="https://en.wikipedia.org/wiki/Radians">radians</a> from the righthand side: <code>PI / 2</code> radians, approximately 1.57. This is also expressed by the gravity direction vector, the default being <code>(0, 1)</code>. Gravity&#8217;s direction can be adjusted to your whim, and reversing it is quite simple using a vector pointing the opposite direction.</p>

<pre><code>UIGravityBehavior gravity = new UIGravityBehavior(item) {
    GravityDirection = new CGVector(0, -1),
};
</code></pre>

<p>Alternatively, with more math involved, you can set the radian angle.</p>

<pre><code>UIGravityBehavior gravity = new UIGravityBehavior(item) {
    Angle = -(float)Math.PI / 2,
};
</code></pre>

<h3>Action (Interacting with the Animation)</h3>

<p>While not strictly a property for modifying gravity, <code>UIGravityBehavior</code>, like all the other behaviors in UIKit Dynamics, allows you to execute some code for each animation frame using its <code>Action</code>. You could use it for debugging a wonky behavior or for cleaning up views that you may have let fly off the screen.</p>

<pre><code>UIGravityBehavior gravity = new UIGravityBehavior(item) {
    Action = () =&gt; {
        Console.WriteLine(item.Frame.Location);
    }
};
</code></pre>

<h2>Bending Gravity to your Will (Advanced Recipe)</h2>

<p>Having control over gravity can quickly go to your head. In the off chance you need to change gravity&#8217;s effect on your UI elements on demand, check out the secondary controller in the <a href="https://github.com/patridge/UIGravityBehaviorRecipe/blob/master/UIGravityBehaviorRecipe/ChangingGravityViewController.cs">demo code</a>. In this proof-of-concept, you tap to place an object under gravity&#8217;s control, simple enough with a <code>UITapGestureRecognizer</code>.</p>

<pre><code>View.AddGestureRecognizer(new UITapGestureRecognizer((gesture) =&gt; {
    PointF tapLocation = gesture.LocationInView(View);
    var item = new UIView(new RectangleF(PointF.Empty, sizeInitial)) {
        BackgroundColor = ColorHelpers.GetRandomColor(),
        Center = tapLocation,
    };
    items.Enqueue(item);
    View.Add(item);
    gravity.AddItem(item);

    // ...
}));
</code></pre>

<p>Any time you want, though, you can swipe to alter its direction using a series of <code>UISwipeGestureRecognizer</code>s (each one can only recognize a single swipe direction).</p>

<pre><code>View.AddGestureRecognizer(new UISwipeGestureRecognizer((gesture) =&gt; {
    gravity.GravityDirection = new CGVector(1, 0);
}) { Direction = UISwipeGestureRecognizerDirection.Right, });
View.AddGestureRecognizer(new UISwipeGestureRecognizer((gesture) =&gt; {
    gravity.GravityDirection = new CGVector(-1, 0);
}) { Direction = UISwipeGestureRecognizerDirection.Left, });
View.AddGestureRecognizer(new UISwipeGestureRecognizer((gesture) =&gt; {
    gravity.GravityDirection = new CGVector(0, -1);
}) { Direction = UISwipeGestureRecognizerDirection.Up, });
View.AddGestureRecognizer(new UISwipeGestureRecognizer((gesture) =&gt; {
    gravity.GravityDirection = new CGVector(0, 1);
}) { Direction = UISwipeGestureRecognizerDirection.Down, });
</code></pre>

<p>I&#8217;m not sure I would call it a &#8220;game&#8221;, but I will admit to spending far more time poking at the screen than was necessary.</p>

<p><img src="../../wp-content/uploads/2013/09/ChangingUIGravityBehavior.gif" alt="Controlling UIGravityBehavior by swipe" /></p>

<h2>Keep Learning</h2>

<p>Xamarin has put together a fantastic <a href="https://docs.xamarin.com/guides/ios/platform_features/introduction_to_ios_7">C# iOS 7 introduction</a> and a great <a href="https://docs.xamarin.com/guides/ios/platform_features/ios7_ui">overview on iOS 7 UI changes</a>.  Expect more great iOS 7 C# tutorials to come out of <a href="https://docs.xamarin.com/">Xamarin&#8217;s docs team</a> as well as others participating in the <a href="https://blog.xamarin.com/xamarin-recipe-cook-off/">Xamarin Recipe Cook-off</a>. (Disclaimer: I am probably getting a free Xamarin t-shirt for this post.)</p>

<p>UIKit Dynamics are far more than just this one pre-baked gravity behavior. I highly recommend checking out the 2013 WWDC videos: <a href="https://developer.apple.com/wwdc/videos/?id=206">Getting Started with UIKit Dynamics</a> and <a href="https://developer.apple.com/wwdc/videos/?id=221">Advanced Techniques with UIKit Dynamics</a>.</p>
												</div><!-- .entry-content --> 
								<footer class="entry-meta2">
		<span class="bl_tagg">Tagged <a href="../../tag/c-sharp/" rel="tag">c#</a>, <a href="../../tag/ios7/" rel="tag">ios7</a>, <a href="../../tag/monotouch/" rel="tag">monotouch</a>, <a href="../../tag/xamarin-ios/" rel="tag">xamarin.ios</a></span>
 									</footer><!-- #entry-meta -->

	</article><!-- #post-265 -->
	
	

				
					
	<article id="post-204" class="post-204 post type-post status-publish format-standard hentry category-uncategorized">
		<header class="entry-header">	
			<h2 class="entry-title">
				<a href="../../2013/06/18/making-monodevelop-for-mac-more-like-visual-studio/" title="Permalink to Making MonoDevelop for Mac (or Xamarin Studio) more like Visual Studio" rel="bookmark">
					Making MonoDevelop for Mac (or Xamarin Studio) more like Visual Studio				</a>
			</h2>
						<div class="entry-meta">
				 <span class="author vcard" > By  <a class="url fn n" rel="author" href="../../author/adam/" title="View all posts by adam">adam</a> <span class="bl_sep">|</span></span>  <time class="onDate date published" datetime="2013-06-18T09:19:25+00:00"> <a href="../../2013/06/18/making-monodevelop-for-mac-more-like-visual-studio/" title="9:19 am" rel="bookmark"><span class="entry-date">June 18, 2013</span> <span class="entry-time"> - 9:19 am</span></a> </time><span class="bl_sep">|</span><time class="updated"  datetime="2013-06-18T09:19:25+00:00">June 18, 2013</time> <span class="bl_categ"> <a href="../../category/uncategorized/" rel="tag">Uncategorized</a> </span>  							<div class="comments-link">
				<a href="../../2013/06/18/making-monodevelop-for-mac-more-like-visual-studio/#comments">1 Comment</a>			</div>
						</div><!-- .entry-meta -->
			
		
		</header><!-- .entry-header -->
									<div class="entry-content">
						<p>If I were only living in the land of MonoDevelop, I probably wouldn&#8217;t care. I stil spend a large amount of time using Visual Studio, though, and switching contexts becomes very difficult when the IDEs are so different. While I haven&#8217;t gone as far as to swap the command and alt keys to match keyboard behavior on Windows, I do try to unite things as much as possible.</p>

<p>If you are simply looking for a list of the default MonoDevelop keyboard shortcuts to learn, check out something more like <a href="https://maccork.com/2011/02/26/monodevelop-keyboard-shortcuts/">this post from Dan Quirk</a>.</p>

<p>[Note: Most of these things apply to Xamarin Studio as well.]</p>

<h2>Text editing</h2>

<h3>Word break mode</h3>

<p>This made the biggest difference in my tolerance for MonoDevelop. The default word break mode tends to ignore whitespace, making it behave completely differently moving the cursor forward versus backward in text.</p>

<p><em>Preferences->Text Editor->Behavior; Navigation->Word break mode; set to SharpDevelop.</em></p>

<p>This will bring your option+left/right and option+backspace/delete calls to be more in line with the ctrl versions under Visual Studio. The emacs version looks like it would work, but I opted for SharpDevelop.</p>

<h2>Key bindings</h2>

<h3><kbd>ctrl</kbd>+<kbd>Space</kbd></h3>

<p>Bring up contextual menu for Intellisense (<code>Edit.CompleteWord</code> in VS, &#8220;Show Completion Window&#8221; in MD).</p>

<h3><kbd>ctrl</kbd>+<kbd>.</kbd></h3>

<p>Bring up contextual menu to resolve with <code>using</code> statement (<code>View.ShowSmartTag</code> in VS, &#8220;Quick fix&#8230;&#8221; in MD).</p>

<p>VS: <kbd>ctrl</kbd>+<kbd>.</kbd>
MD: <kbd>option</kbd>+<kbd>enter</kbd> (does not appear to work)</p>

<h1>Changes:</h1>

<p>Since the default MD shortcut doesn&#8217;t work, you definitely want to try something. Setting this to the VS default, though, will cause the following cascade of changes.</p>

<ul>
<li><kbd>Command</kbd>+<kbd>.</kbd> is already &#8220;Navigate To&#8230;&#8221; in MD (VS uses <kbd>ctrl</kbd>+<kbd>,</kbd>).</li>
<li><kbd>Command</kbd>+<kbd>,</kbd> is already &#8220;Preferences&#8230;&#8221; in MD (VS default doesn&#8217;t bind anything to <code>Tools.Options</code> but <kbd>command</kbd>+<kbd>,</kbd>, pretty standard Mac shortcut).</li>
<li>Remove <kbd>command</kbd>+<kbd>,</kbd> from &#8220;Preferences&#8230;&#8221;.</li>
</ul>

<h2>Export/Import settings</h2>

<p>Once you have MonoDevelop just the way you want it, some day you will likely need to move them to a different machine (or give them to a like-minded colleague). You&#8217;ll need to dig around your user library to find these, but they can be copied into and out of <code>~/Library/MonoDevelop-3.0</code> (or whatever version you are using). Xamarin Studio will be under <code>~/Library/XamarinStudio-{version}</code>.</p>

<p>For just specific preferences, you may be able to move around just a single file.</p>

<ul>
<li>Key bindings: <code>~/Library/MonoDevelop-3.0/KeyBindings/Custom.mac-kb.xml</code></li>
<li>C# formatting profile: <code>~/Library/MonoDevelop-3.0/Policies/Default.mdpolicy.xml</code></li>
</ul>

<h3>Sources</h3>

<ul>
<li>Word break mode tip via <a href="https://mjhutchinson.com/journal/2011/02/monodevelop_tips_word_breaking">Michael J Hutchinson</a>.</li>
<li>Settings export tip via <a href="https://stackoverflow.com/q/9313350/48700">Eugen Rieck&#8217;s Stack Overflow answer</a>.</li>
</ul>

<h3>Versions</h3>

<p>Since these things are likely to change, let me add the versions of these applications. If things have become too dated here, feel free to drop me a line (comments, email, whatever).</p>

<ul>
<li>Mac OS: 10.7.5</li>
<li>MonoDevelop: 3.0.4.7</li>
<li>MonoTouch: 3.0.4</li>
</ul>
												</div><!-- .entry-content --> 
								<footer class="entry-meta2">
						</footer><!-- #entry-meta -->

	</article><!-- #post-204 -->
	
	

				
					<div class='pagination_container'><nav class='pagination'><a href='../../'>&laquo;</a><a href='../3/'>&lsaquo;</a><a href='../2/' class='inactive' >2</a><a href='../3/' class='inactive' >3</a><span class='current'>4</span><a href='../5/' class='inactive' >5</a><a href='../6/' class='inactive' >6</a><a href='../5/'>&rsaquo;</a><a href='../7/'>&raquo;</a></nav></div>

			
			</div><!-- #content -->
			<div id="primary" class="widget-area" role="complementary">

		
		
			<ul class="xoxo">
				<li id="search-2" class="widget-container widget_search"><form method="get" id="searchform" action="https://www.patridgedev.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="s" placeholder="Search" value="" name="s" />
	</label>
	<button type="submit" class="searchsubmit"><span class="screen-reader-text">Search</span>OK</button>
</form>
</li>		<li id="recent-posts-2" class="widget-container widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
											<li>
					<a href="../../2019/09/27/copy-command-line-output-to-the-clipboard-on-macos-windows-and-linux/">Copy command line output to the clipboard on macOS, Windows, and Linux</a>
									</li>
											<li>
					<a href="../../2019/08/06/determine-sha-hash-of-file-on-windows-linux-and-macos/">Determine SHA hash of file on Windows, Linux, and macOS</a>
									</li>
											<li>
					<a href="../../2019/05/20/workaround-xamarin-android-long-paths-on-windows/">Workaround: Xamarin.Android long paths on Windows</a>
									</li>
											<li>
					<a href="../../2019/02/06/play-japanese-famicom-games-with-your-us-nintendo-switch-online-account/">Play Japanese Famicom games with your US Nintendo Switch Online account</a>
									</li>
											<li>
					<a href="../../2018/10/29/fallback-variables-in-dotnet-new-templates/">Fallback variables in `dotnet new` templates</a>
									</li>
					</ul>
		</li><li id="text-3" class="widget-container widget_text">			<div class="textwidget"><p><!--Amazon--><br />
<iframe src="https://rcm-na.amazon-adsystem.com/e/cm?t=pricetrack-20&o=1&p=9&l=ez&f=ifr&f=ifr&linkID=U4QK3RSRY7VEZR26" scrolling="no" marginwidth="0" marginheight="0" border="0" frameborder="0" style="border:none;"></iframe></p>
</div>
		</li>			</ul>

			<ul class="xoxo">
				<li id="text-2" class="widget-container widget_text"><h3 class="widget-title">PatridgeDev elsewhere</h3>			<div class="textwidget"><p><a href="https://stackoverflow.com/users/48700/patridge"><br />
<img src="https://stackoverflow.com/users/flair/48700.png" width="208" height="58" alt="profile for patridge at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for patridge at Stack Overflow, Q&amp;A for professional and enthusiast programmers"><br />
</a>
</div>
<div>
<a href="https://xamarin.com/mvp"><img src="../../wp-content/uploads/2015/04/MVP-Badge2-300x127.png" alt="Xamarin MVP" style="width:200px;"/></a>
</div>
<div>
<a href="https://university.xamarin.com/certification"><img src="../../wp-content/uploads/2015/04/Xamarin-Ceritified-Mobile-Developer-Badge-small-res.png" alt="Xamarin Certified Mobile Developer" style="width:150px;"/></a>
</div>
<div>
<a class="twitter-timeline" data-width="300" data-height="600" data-theme="light" href="https://hachyderm.io/@patridge">Posts by PatridgeDev</a>
<iframe allowfullscreen sandbox="allow-top-navigation allow-scripts allow-popups allow-popups-to-escape-sandbox" width="300" height="600" src="https://www.mastofeed.com/apiv2/feed?userurl=https%3A%2F%2Fhachyderm.io%2Fusers%2Fpatridge&theme=light&size=100&header=true&replies=true&boosts=false"></iframe>
</div>
		</li>			</ul>

			
		</div><!-- #primary .widget-area -->

			</section><!-- #container -->
	<div style="clear:both;"></div>

	</div> <!-- #forbottom -->
	</div><!-- #main -->


	<footer id="footer" role="contentinfo">
		<div id="colophon">
		
			

	<div id="footer-widget-area"  role="complementary"  class="footerone" >

	
			<div id="second" class="widget-area">
			<ul class="xoxo">
				<li id="text-5" class="widget-container widget_text">			<div class="textwidget"><div id="amzn-assoc-ad-d543690b-5196-4e42-ab6e-dc8f3891227e"></div>
<p><script async src="https://z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=d543690b-5196-4e42-ab6e-dc8f3891227e"></script></p>
</div>
		</li>			</ul>
		</div><!-- #second .widget-area -->
	
	
		
	</div><!-- #footer-widget-area -->
			
		</div><!-- #colophon -->

		<div id="footer2">
		
			<div style="text-align:center;clear:both;padding-top:4px;" >
	<a href="../../" title="PatridgeDev" rel="home">
		PatridgeDev</a> | Powered by <a target="_blank" href="https://www.cryoutcreations.eu/mantra" title="Mantra Theme by Cryout Creations">Mantra</a>
</div><!-- #site-info --> 	<div class="socials" id="sfooter"> 
	
			<a target="_blank" rel="nofollow" href="https://twitter.com/patridgedev" class="socialicons social-Twitter" title="Twitter">
				<img alt="Twitter" src="../../wp-content/themes/mantra.3.2.0_custom/resources/images/socials/Twitter.png" />
			</a>
            	</div>
				
		</div><!-- #footer2 -->

	</footer><!-- #footer -->

</div><!-- #wrapper -->

<script type='text/javascript' src='../../wp-includes/js/wp-embed.mine6b3.js?ver=5.4.11'></script>

</body>
</html>
